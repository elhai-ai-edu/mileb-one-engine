# Implementation Specification  
## שכבת החיבור בין הארכיטקטורה למערכת בפועל

מסמך זה מגדיר כיצד הארכיטקטורה מתורגמת ליישום במערכת.

הוא אינו מגדיר את החוקה (01_kernel_constitution.md),  
ואינו מגדיר את מבנה ה-SP (02_sp_structure.md),  
ואינו מגדיר את שכבת המשתנים (03_system_mapping.md),  
ואינו מגדיר את מנגנון השאלון (04_questionnaire_spec.md),  
ואינו מגדיר את SPI עצמו (05_spi_definition.md).

מסמך זה מגדיר את מנגנון החיבור.

---

## עקרון יסוד

יש מנוע אחד.

כל שיחה עוברת דרך מנגנון אחיד (chat.js / API layer).

אין מנועים שונים לפי בוטים — רק תצורות שונות (SPI).

---

## מבנה יישומי עיקרי

### 1. קונפיגורציה (config.json)

המערכת טוענת בוטים דרך מבנה היררכי:

- universal  
- courses  
- skills  
- faculty  
- admin  

כל item הוא תצורת SPI.

---

### 2. Context Loader

המערכת רשאית להטעין הקשר (כגון classId),  
אך ההקשר אינו משנה:

- את החוקה  
- את Effort Policy  
- את Evaluation Gate  

הוא מוסיף רלוונטיות בלבד.

---

### 3. Governance Enforcement

בזמן ריצה יש לאכוף:

- שמירת Operation Mode  
- מניעת שינוי תפקיד תוך כדי שיחה  
- מניעת פתרון מלא במצב Student  
- חסימת הערכה ללא קריטריונים מאושרים  

---

### 4. Versioning

יש לשמור תיעוד גרסאות:

- גרסת חוקה  
- גרסת מערכת  
- תאריך שינוי ארכיטקטוני משמעותי  

המטרה: יציבות והתפתחות מבוקרת.

---

## עקרון סיום

הקוד אינו מגדיר את המערכת.

הקוד מממש את המערכת.

החוקה קודמת ליישום.
